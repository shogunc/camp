DROP TABLE Building IF EXISTS;
CREATE TABLE Building (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  building_type VARCHAR(20) NOT NULL,
  PRIMARY KEY (id)
);

DROP TABLE Person IF EXISTS;
CREATE TABLE Person (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  name VARCHAR(20) NOT NULL,
  gender VARCHAR(6) NOT NULL,
  unused BOOLEAN NOT NULL,
  PRIMARY KEY (id)
);

DROP TABLE Unit IF EXISTS;
CREATE TABLE Unit (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  unit_type VARCHAR(20) NOT NULL,
  fk_building_id BIGINT NOT NULL,
  fk_quarter_id BIGINT NOT NULL,
  level BIGINT NOT NULL,
  fk_person BIGINT NOT NULL,
  PRIMARY KEY (id),
  FOREIGN KEY (fk_building_id) REFERENCES Building(id) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (fk_quarter_id) REFERENCES Building(id) ON DELETE CASCADE ON UPDATE CASCADE,
  FOREIGN KEY (fk_person) REFERENCES Person(id) ON DELETE CASCADE ON UPDATE CASCADE
);

DROP TABLE Unit_Tile IF EXISTS;
CREATE TABLE Unit_Tile (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  unit_id BIGINT NOT NULL,
  tile_id VARCHAR(20) NOT NULL,
  PRIMARY KEY (id)
);

DROP TABLE Recruiter IF EXISTS;
CREATE TABLE Recruiter (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  status VARCHAR(20) NOT NULL,
  on_recruitment_until TIMESTAMP,
  unavailable_until TIMESTAMP,
  PRIMARY KEY (id)
);